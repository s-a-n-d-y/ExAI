close all;clear;clc;
%experiment 1
set(groot,'defaulttextinterpreter','latex');
set(groot, 'defaultAxesTickLabelInterpreter','latex');
set(groot, 'defaultLegendInterpreter','latex');

fig = figure('Units','inches',...
'Position',[0 0 7 4],...
'PaperPositionMode','auto');

x_snr = [-6.58249031200274,-6.18561361846295,-5.46420286771958,-4.26941059762383,-2.51529842475687,-0.242729299331180,2.41256942348224,5.30499912218031,8.32853718806938,11.4199775780973,14.5453872217894,17.6874946158789,20.8377388206352,23.9919312724467,27.1480355888674,30.3050647633731,33.4625411181353,36.6202336393892,39.7780306434733,42.9358781459669];
y_optimal = [-0.619100624177964,-0.660455458691819,-0.738833490150500,-0.927251287995877,-1.33579854464517,-1.95002530816507,-2.91118505358461,-3.91188779331992,-5.22512355301361,-6.56658199261872,-7.71967442550900,-8.97576905130873,-9.95193764688905,-10.6637216722364,-11.2941207277486,-11.8136737272375,-11.8739490676789,-11.8036377413611,-12.2655178311187,-12.1134818119713];
y_ssfn = [-0.447975244573882,-0.499306841155385,-0.589589769909751,-0.820364830854633,-1.31672862437220,-2.14548883923237,-3.62913695826874,-5.54590634951198,-8.21595073878540,-11.0022020443288,-13.4752908328947,-15.7896286927383,-18.1592416154551,-20.0893501599424,-22.0239176099921,-23.8475428392465,-25.1635342636534,-26.8697515270431,-28.5545710845006,-30.1641197274040];
y_elm = [-0.897646891218553,-0.798645168844431,-0.887019050102097,-1.16522646198850,-1.80291539931001,-2.85327573617060,-4.82438885295286,-8.79923171955261,-14.4293792441198,-18.9060574934210,-22.0991276657209,-25.3707300726165,-28.4265092008580,-31.5909492933880,-34.7534849016691,-37.8812656842734,-41.0915363164839,-44.2771465957668,-47.3916514765553,-50.5628571796373];
% 10 epochs
%y_cnn = [-0.8093369677221595, -0.8350562633489471, -0.990662640930214, -1.1277862245381305, -1.6064183299041377, -2.2314771751661553, -3.412060976774907, -4.583274375238893, -5.929830113373448, -6.7170923451970355, -7.649530423322699, -8.222206699287248, -8.38889304865448, -9.106327180349869, -8.240292740557123, -8.780180913645898, -8.786221497036825, -9.06424533603416, -8.189694021863152, -8.01397268020858];
% 100 epochs
y_cnn =[-3.461542075900263, -3.4364848483484414, -3.360121685526598, -3.424680333316931, -3.6383105130933098, -4.379474539298815, -6.171328038619159, -9.146260448657076, -12.591942094425226, -15.710852595712751, -18.204799247521787, -20.388306581715945, -22.412810088747758, -24.472182351557905, -26.241428941324738, -28.08367079572622, -30.617477997995458, -31.75850495815967, -33.16484943211766, -34.34043039465826];

y_resnet = [-6.432025641171024, -6.451322277578219, -6.580952438559472, -6.9431595260219625, -7.286990638768627, -8.204703436166534, -9.976509408333918, -12.917740926005628, -16.871175477680005, -19.46752866888893, -21.285011533552264, -22.52744053061307, -23.689018581385568, -24.15419817895358, -24.564635971698145, -23.214338103891432, -21.05066687169579, -16.05493573150615, -11.164656223598822, -7.349706297622644];

file_name = 'mmse_1';
folder_name = 'plots/A';
        
plot_title = {['P = 10, ' 'Q = 10']
              ['b = 50']};
                      
x_label = 'SNR (dB)';
legend_label = {'Optimal' 'SSFN' 'ELM', 'FCNN', 'ResNet'};
y_label = 'NMSE (dB)';
    
xlim([-7 20])
ylim([-28 5])
hold on;grid on;
plot(x_snr, y_elm,'-.rp','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_ssfn,'-.bs','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_optimal,'-.gs','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_cnn,'-.ms','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_resnet,'-.cs','MarkerSize',4, 'LineWidth', 1.5)

set_plot_property(fig, x_label, y_label, legend_label, plot_title, file_name, folder_name);


% Experiment 2
clear;clc;

set(groot,'defaulttextinterpreter','latex');
set(groot, 'defaultAxesTickLabelInterpreter','latex');
set(groot, 'defaultLegendInterpreter','latex');

fig = figure('Units','inches',...
'Position',[0 0 7 4],...
'PaperPositionMode','auto');

x_snr = [-9.68964805145288,-6.00543752513709,-2.32122699882130,1.36298352749449,5.04719405381028,8.73140458012607,12.4156151064419,16.0998256327576,19.7840361590734,23.4682466853892,27.1524572117050,30.8366677380208,34.5208782643366,38.2050887906524,41.8892993169682,45.5735098432840,49.2577203695998,52.9419308959156,56.6261414222313,60.3103519485471];

y_ssfn = [-0.221617594223743,-0.748214056410246,-1.76912917356155,-3.32200033997224,-5.28538034153814,-7.43518882283053,-9.51262633762008,-11.4624902734896,-13.1915327506238,-14.9448225243680,-16.3152785620315,-17.8127918639152,-20.4363319430677,-21.1075944594157,-22.4530186774573,-24.7258356568917,-28.2896019681765,-29.9065716110384,-31.1922657494257,-31.4054153832996];
y_elm = [-0.412483296188728,-0.830818416013505,-1.60790226186896,-2.67447124196227,-3.88928988307842,-5.18705175852238,-6.45568979351439,-7.46770753994237,-8.03783358099588,-8.57644399243239,-8.65428660862239,-8.72309942659548,-8.83822324230320,-8.88841946509406,-8.88830167302199,-8.73030439729074,-8.85520086003406,-8.82917501812493,-8.96283895445919,-8.80076136695869];
%y_optimal = [-0.470101074174025,-1.08175516839384,-2.30183584795708,-4.34904080316527,-7.56664604674090,-10.5710214319322,-12.1939513279714,-14.3265356371579,-15.6443897635673,-17.3137350759865,-18.7539367427971,-20.4472929913871,-22.3177586908587,-23.4298206341838,-25.5611370408005,-27.0757537948937,-27.6303350397897,-30.5354443152142,-30.9091791548110,-35.4681102776391];
y_optimal = [-0.526953981536623,-1.15472637600188,-2.28651468670781,-4.33369679564193,-7.38037763276032,-10.5950082411336,-12.5956614208518,-14.1244058082424,-15.7472154864211,-17.1956415823451,-18.8212116741785,-20.2908125925863,-22.0583497003047,-23.1451362281665,-25.0543721107595,-26.8634188838309,-28.6997424606484,-30.1791646668366,-32.6311087531502,-33.5668408268020];

% 100 epochs
%y_cnn =[-3.8900788007967657, -4.010616628725656, -4.7025523777744205, -6.241389778946907, -8.563129704767057, -10.678448606520972, -12.201637240895193, -13.53296951472865, -15.076464978307433, -16.44765603486929, -18.07164022991643, -19.218463111355447, -20.564525108633806, -20.906122094458528, -21.960526896406286, -22.180779866566027, -22.32930238523509, -22.140273233994993, -22.61946807931837, -21.77849003307309];

% 50 epochs 5 monte carlo
y_cnn = [0.9696880304030747, -0.03097742538215164, -1.4788452357033512, -3.6009206571197, -6.235792954511389, -8.296552694040077, -9.95555941642537, -11.86133820732416, -13.5168187476444, -15.008159073105837, -17.04097418404705, -16.441672193081708, -18.017144719687906, -17.166803268435984, -19.078673700748435, -20.36119401662542, -17.644087872254442, -17.22162903832721, -18.124896198707216, -17.270758221384682];
y_resnet = [0.4099085212046991, -0.1221474335255978, -1.0929543866564597, -2.9398403614105577, -5.408628860402928, -7.056492594107503, -8.25016191544808, -9.097497435959164, -10.590503437862708, -11.528308476279294, -12.490167387842261, -11.953042997184319, -12.794271823626566, -12.420882236760757, -13.382476007210105, -13.884618088962423, -12.853142790959922, -13.067214152859062, -12.661228794623243, -12.750207434181625];

file_name = 'mmse_2';
folder_name = 'plots/A';
        
plot_title = {['P = 10, ' 'Q = 10']
              ['a = 10']};
                      
x_label = 'SNR (dB)';
legend_label = {'Optimal' 'SSFN' 'ELM', 'FCNN', 'ResNet'};
y_label = 'NMSE (dB)';
    
xlim([-10 20])
ylim([-20 5])
hold on;grid on;
plot(x_snr, y_optimal,'-.rp','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_ssfn,'-.bs','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_elm,'-.gs','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_cnn,'-.ms','MarkerSize',4, 'LineWidth', 1.5)
hold on;grid on;
plot(x_snr, y_resnet,'-.cs','MarkerSize',4, 'LineWidth', 1.5)

set_plot_property(fig, x_label, y_label, legend_label, plot_title, file_name, folder_name);